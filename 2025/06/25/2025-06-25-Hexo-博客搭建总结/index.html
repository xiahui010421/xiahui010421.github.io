<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>Hexo åšå®¢æ­å»ºæ€»ç»“ - xiahuibb&#39;s blog</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/post.css">
<meta name="generator" content="Hexo 7.3.0"></head>
<body class="post-page">
  <link rel="stylesheet" href="/css/header.css" />
<link rel="stylesheet" href="/css/down.css" />

<!-- <header class="site-header"> -->
<header class="header">
  <div class="header-container">
    <div class="header-left">
      <img src="/images/æ·˜å®åº—é“ºå¿§å¿§ç´ æåº“ (981).gif" alt="Logo" class="header-logo" />
  <span class="header-title">xiahuibb&#39;s blog</span>
   </div>
    <!-- ä¸­é—´çš„ç®­å¤´æŒ‰é’® -->
    <div class="header-center">
      <button id="dropdown-toggle" aria-haspopup="true" aria-expanded="false" aria-controls="dropdown-content" class="dropdown-btn" aria-label="Toggle dropdown">
      <svg viewBox="0 0 64 64" width="40" height="40" fill="none" xmlns="http://www.w3.org/2000/svg" class="sun-icon">
        <g class="sun-rays">
          <line x1="32" y1="4" x2="32" y2="14" stroke="#FFB800" stroke-width="3" stroke-linecap="round"/>
          <line x1="32" y1="50" x2="32" y2="60" stroke="#FFB800" stroke-width="3" stroke-linecap="round"/>
          <line x1="4" y1="32" x2="14" y2="32" stroke="#FFB800" stroke-width="3" stroke-linecap="round"/>
          <line x1="50" y1="32" x2="60" y2="32" stroke="#FFB800" stroke-width="3" stroke-linecap="round"/>
          <line x1="12" y1="12" x2="19" y2="19" stroke="#FFB800" stroke-width="3" stroke-linecap="round"/>
          <line x1="45" y1="45" x2="52" y2="52" stroke="#FFB800" stroke-width="3" stroke-linecap="round"/>
          <line x1="12" y1="52" x2="19" y2="45" stroke="#FFB800" stroke-width="3" stroke-linecap="round"/>
          <line x1="45" y1="19" x2="52" y2="12" stroke="#FFB800" stroke-width="3" stroke-linecap="round"/>
        </g>
        <circle cx="32" cy="32" r="12" fill="#FFD93B" stroke="#FFB800" stroke-width="3"/>
      </svg>
    </button>

    </div>

    <nav class="header-nav">
      <ul class="header-menu">
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/archives">Archives</a></li>
        
          <li><a href="/editor">Editor</a></li>
        
      </ul>
    </nav>
  </div>
</header>
<!-- ä¸‹æ‹‰å†…å®¹æ”¾åœ¨ header å¤–ï¼Œé¿å…è¢« header å›ºå®šé«˜åº¦é™åˆ¶ -->
<div id="dropdown-content" class="dropdown-content" aria-hidden="true" >
  <div class="dropdown-inner">
      <div id="calendar"></div>
  </div>
</div>

<!-- Blog æ—¥æœŸ JSON æ•°æ® -->
<script id="blogDates" type="application/json">
  ["2025-06-25","2025-06-26","2025-07-01","2025-07-02","2025-07-03","2025-08-18","2025-08-18","2025-08-25","2025-08-26","2025-08-31","2025-09-03","2025-09-06","2025-09-07","2025-09-06","2025-09-06","2025-09-07","2025-09-07","2025-06-25"]
</script>
  <script>
    const blogDates = JSON.parse(document.getElementById('blogDates').textContent);
    console.log('åšå®¢æ–‡ç« æ—¥æœŸ:', blogDates);
  </script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
  const toggleBtn = document.getElementById('dropdown-toggle');
  const dropdownContent = document.getElementById('dropdown-content');
  const sunRays = toggleBtn.querySelector('.sun-rays');

  let isExpanded = false;

  toggleBtn.addEventListener('click', () => {
    if (isExpanded) {
      // æ’­æ”¾å¤ªé˜³æ”¶èµ·åŠ¨ç”»
      sunRays.style.animation = 'rays-collapse 0.4s forwards ease-in';

      // å…ˆå°† max-height è®¾ç½®ä¸ºå½“å‰å†…å®¹é«˜åº¦ï¼Œç¡®ä¿è¿‡æ¸¡ä»æ­£ç¡®é«˜åº¦å¼€å§‹
      dropdownContent.style.maxHeight = dropdownContent.scrollHeight + 'px';

      // è§¦å‘é‡ç»˜ï¼Œç¡®ä¿æµè§ˆå™¨è¯†åˆ«æ–°çš„ max-height
      dropdownContent.offsetHeight;

      // å»¶è¿Ÿè®¾ç½® max-height ä¸º0ï¼Œè§¦å‘è¿‡æ¸¡åŠ¨ç”»
      setTimeout(() => {
        dropdownContent.style.maxHeight = '0';
        dropdownContent.style.opacity = '0';
        dropdownContent.style.pointerEvents = 'none';
      }, 20); // 20ms çš„å»¶è¿Ÿè¶³å¤Ÿè§¦å‘åŠ¨ç”»

      toggleBtn.classList.remove('active');
      toggleBtn.setAttribute('aria-expanded', 'false');
      dropdownContent.setAttribute('aria-hidden', 'true');
      isExpanded = false;

    } else {
      // æ’­æ”¾å¤ªé˜³å±•å¼€åŠ¨ç”»
      sunRays.style.animation = 'rays-expand 0.4s forwards ease-out';

      dropdownContent.style.opacity = '1';
      dropdownContent.style.pointerEvents = 'auto';

      // ç›´æ¥è®¾ç½® max-height ä¸ºå†…å®¹é«˜åº¦ï¼Œè§¦å‘å±•å¼€åŠ¨ç”»
      dropdownContent.style.maxHeight = dropdownContent.scrollHeight + 'px';

      toggleBtn.classList.add('active');
      toggleBtn.setAttribute('aria-expanded', 'true');
      dropdownContent.setAttribute('aria-hidden', 'false');
      isExpanded = true;
    }
  });

  // ç‚¹å‡»å¤–éƒ¨å…³é—­ä¸‹æ‹‰æ¡†
  document.addEventListener('click', (e) => {
    if (!toggleBtn.contains(e.target) && !dropdownContent.contains(e.target) && isExpanded) {
      sunRays.style.animation = 'rays-collapse 0.4s forwards ease-in';

      dropdownContent.style.maxHeight = dropdownContent.scrollHeight + 'px';
      dropdownContent.offsetHeight;

      setTimeout(() => {
        dropdownContent.style.maxHeight = '0';
        dropdownContent.style.opacity = '0';
        dropdownContent.style.pointerEvents = 'none';
      }, 20);

      toggleBtn.classList.remove('active');
      toggleBtn.setAttribute('aria-expanded', 'false');
      dropdownContent.setAttribute('aria-hidden', 'true');
      isExpanded = false;
    }
  });

  sunRays.addEventListener('animationend', (e) => {
    if (e.animationName === 'rays-collapse') {
      sunRays.style.animation = '';
      sunRays.style.transform = 'scale(0)';
      sunRays.style.opacity = '0';
    } else if (e.animationName === 'rays-expand') {
      sunRays.style.animation = '';
      sunRays.style.transform = 'scale(1)';
      sunRays.style.opacity = '1';
    }
  });
});




// ...existing code...

let currentYear, currentMonth;

function renderCalendar(year, month, highlightDates) {
  currentYear = year;
  currentMonth = month;
  const calendarEl = document.getElementById('calendar');
  calendarEl.innerHTML = ''; // æ¸…ç©º

  // æ—¥å†å¤´éƒ¨
  const headerDiv = document.createElement('div');
  headerDiv.className = 'calendar-header';
  headerDiv.style.display = 'flex';
  headerDiv.style.justifyContent = 'center';
  headerDiv.style.alignItems = 'center';
  headerDiv.style.marginBottom = '8px';
  headerDiv.innerHTML = `
    <button class="calendar-btn" id="prev-year" title="ä¸Šä¸€å¹´">&laquo;</button>
    <button class="calendar-btn" id="prev-month" title="ä¸Šä¸€æœˆ">&lsaquo;</button>
    <span class="calendar-title" style="margin: 0 12px; font-weight: bold;">
      ${year}å¹´${month + 1}æœˆ
    </span>
    <button class="calendar-btn" id="next-month" title="ä¸‹ä¸€æœˆ">&rsaquo;</button>
    <button class="calendar-btn" id="next-year" title="ä¸‹ä¸€å¹´">&raquo;</button>
  `;
  calendarEl.appendChild(headerDiv);

  // ...åŸæœ‰è¡¨æ ¼ç”Ÿæˆä»£ç ...
  const daysOfWeek = ['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­'];
  const firstDay = new Date(year, month, 1);
  const lastDay = new Date(year, month + 1, 0);
  const firstWeekDay = firstDay.getDay();
  const totalDays = lastDay.getDate();

  const table = document.createElement('table');
  table.className = 'calendar-table';

  const thead = document.createElement('thead');
  const headerRow = document.createElement('tr');
  daysOfWeek.forEach(d => {
    const th = document.createElement('th');
    th.textContent = d;
    headerRow.appendChild(th);
  });
  thead.appendChild(headerRow);
  table.appendChild(thead);

  const tbody = document.createElement('tbody');
  let row = document.createElement('tr');
  for (let i = 0; i < firstWeekDay; i++) {
    row.appendChild(document.createElement('td'));
  }
  for (let day = 1; day <= totalDays; day++) {
    if (row.children.length % 7 === 0) {
      tbody.appendChild(row);
      row = document.createElement('tr');
    }
    const td = document.createElement('td');
    td.textContent = day;
    const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
    if (highlightDates.includes(dateStr)) {
      td.classList.add('highlight');
    }
    row.appendChild(td);
  }
  while (row.children.length < 7) {
    row.appendChild(document.createElement('td'));
  }
  tbody.appendChild(row);
  table.appendChild(tbody);
  calendarEl.appendChild(table);

  // äº‹ä»¶ç»‘å®š
  document.getElementById('prev-year').onclick = () => renderCalendar(year - 1, month, highlightDates);
  document.getElementById('next-year').onclick = () => renderCalendar(year + 1, month, highlightDates);
  document.getElementById('prev-month').onclick = () => {
    if (month === 0) {
      renderCalendar(year - 1, 11, highlightDates);
    } else {
      renderCalendar(year, month - 1, highlightDates);
    }
  };
  document.getElementById('next-month').onclick = () => {
    if (month === 11) {
      renderCalendar(year + 1, 0, highlightDates);
    } else {
      renderCalendar(year, month + 1, highlightDates);
    }
  };
}

// é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
document.addEventListener('DOMContentLoaded', () => {
  const now = new Date();
  renderCalendar(now.getFullYear(), now.getMonth(), blogDates);
  document.querySelector('.dropdown-inner').addEventListener('click', function(e) {
    e.stopPropagation();
  });
});

</script>

  
  <!-- ç¼–è¾‘æ¨¡å¼åˆ‡æ¢æŒ‰é’® -->
  <div class="post-controls">
    <button id="toggle-edit" class="btn-edit-toggle" title="åˆ‡æ¢ç¼–è¾‘æ¨¡å¼">
      <span class="edit-icon">âœï¸</span>
      <span class="edit-text">ç¼–è¾‘</span>
    </button>
    <button id="save-post" class="btn-save-post" style="display: none;" title="ä¿å­˜æ–‡ç« ">
      <span class="save-icon">ğŸ’¾</span>
      <span class="save-text">ä¿å­˜</span>
    </button>
  </div>

  <main class="container">
    <aside class="toc">
      <div class="toc-content">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Hexo-%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93"><span class="toc-number">1.</span> <span class="toc-text">Hexo åšå®¢æ­å»ºæ€»ç»“</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><span class="toc-number">1.1.</span> <span class="toc-text">ç¯å¢ƒå‡†å¤‡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E9%A2%98%E8%87%AA%E5%AE%9A%E4%B9%89"><span class="toc-number">1.2.</span> <span class="toc-text">ä¸»é¢˜è‡ªå®šä¹‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%81%87%E5%88%B0%E7%9A%84%E6%9D%83%E9%99%90%E9%97%AE%E9%A2%98%EF%BC%88npm-%E5%AE%89%E8%A3%85%E6%8A%A5%E9%94%99-EACCES%EF%BC%89"><span class="toc-number">1.3.</span> <span class="toc-text">é‡åˆ°çš„æƒé™é—®é¢˜ï¼ˆnpm å®‰è£…æŠ¥é”™ EACCESï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E9%A2%98%E9%83%A8%E7%BD%B2%E9%97%AE%E9%A2%98"><span class="toc-number">1.4.</span> <span class="toc-text">ä¸»é¢˜éƒ¨ç½²é—®é¢˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E5%86%99%E6%96%87%E7%AB%A0%E4%B8%8E%E7%BC%96%E7%A0%81%E9%97%AE%E9%A2%98"><span class="toc-number">1.5.</span> <span class="toc-text">æœ¬åœ°å†™æ–‡ç« ä¸ç¼–ç é—®é¢˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8D%9A%E5%AE%A2%E5%90%8E%E5%8F%B0%EF%BC%8C%E5%AE%9E%E7%8E%B0%E5%9C%A8%E7%BA%BF%E6%96%87%E7%AB%A0%E6%8F%90%E4%BA%A4%E4%B8%8E%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2"><span class="toc-number">1.6.</span> <span class="toc-text">è‡ªå®šä¹‰åšå®¢åå°ï¼Œå®ç°åœ¨çº¿æ–‡ç« æäº¤ä¸è‡ªåŠ¨éƒ¨ç½²</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E8%B0%83%E7%94%A8%E5%90%8E%E5%8F%B0%E6%8E%A5%E5%8F%A3"><span class="toc-number">1.7.</span> <span class="toc-text">å‰ç«¯è°ƒç”¨åå°æ¥å£</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E6%B3%A8%E6%84%8F%E7%82%B9"><span class="toc-number">1.8.</span> <span class="toc-text">å…¶ä»–æ³¨æ„ç‚¹</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%93%E8%AE%BA"><span class="toc-number">2.</span> <span class="toc-text">ç»“è®º</span></a></li></ol>
      </div>
    </aside>
    
    <section class="content">
      <!-- æ–‡ç« å…ƒä¿¡æ¯ç¼–è¾‘åŒº -->
      <div class="post-meta-edit" id="post-meta-edit" style="display: none;">
        <div class="meta-grid">
          <div class="meta-item">
            <label for="edit-title">æ ‡é¢˜</label>
            <input type="text" id="edit-title" value="Hexo åšå®¢æ­å»ºæ€»ç»“" placeholder="æ–‡ç« æ ‡é¢˜">
          </div>
          
          <div class="meta-item">
            <label for="edit-date">å‘å¸ƒæ—¥æœŸ</label>
            <input type="datetime-local" id="edit-date" value="2025-06-25T05:30">
          </div>
          
          <div class="meta-item">
            <label for="edit-categories">åˆ†ç±»</label>
            <input type="text" id="edit-categories" value="æŠ€æœ¯æ•™ç¨‹, åšå®¢æ­å»º" placeholder="åˆ†ç±»1, åˆ†ç±»2...">
          </div>
          
          <div class="meta-item">
            <label for="edit-tags">æ ‡ç­¾</label>
            <input type="text" id="edit-tags" value="Hexo, åšå®¢æ­å»º, GitHub Pages, Node.js, æ•™ç¨‹, éƒ¨ç½², å‰ç«¯å¼€å‘" placeholder="æ ‡ç­¾1, æ ‡ç­¾2...">
          </div>
          
          <div class="meta-item meta-item-full">
            <label for="edit-thumbnail">ç¼©ç•¥å›¾</label>
            <input type="text" id="edit-thumbnail" value="" placeholder="å›¾ç‰‡URLï¼ˆå¯é€‰ï¼‰">
          </div>
        </div>
      </div>

      <!-- ç¼–è¾‘å·¥å…·æ  -->
      <div class="edit-toolbar" id="edit-toolbar" style="display: none;">
        <div class="toolbar-group">
          <button type="button" class="toolbar-btn" data-action="bold" title="ç²—ä½“ (Ctrl+B)">
            <strong>B</strong>
          </button>
          <button type="button" class="toolbar-btn" data-action="italic" title="æ–œä½“ (Ctrl+I)">
            <em>I</em>
          </button>
          <button type="button" class="toolbar-btn" data-action="code" title="è¡Œå†…ä»£ç ">
            &lt;/&gt;
          </button>
        </div>
        
        <div class="toolbar-group">
          <button type="button" class="toolbar-btn" data-action="heading1" title="æ ‡é¢˜1">H1</button>
          <button type="button" class="toolbar-btn" data-action="heading2" title="æ ‡é¢˜2">H2</button>
          <button type="button" class="toolbar-btn" data-action="heading3" title="æ ‡é¢˜3">H3</button>
        </div>
        
        <div class="toolbar-group">
          <button type="button" class="toolbar-btn" data-action="link" title="æ’å…¥é“¾æ¥">ğŸ”—</button>
          <button type="button" class="toolbar-btn" data-action="image" title="æ’å…¥å›¾ç‰‡">ğŸ–¼ï¸</button>
          <input type="file" id="image-upload" accept="image/*" style="display: none;" multiple>
        </div>
        
        <div class="toolbar-group">
          <button type="button" class="toolbar-btn" data-action="quote" title="å¼•ç”¨">â</button>
          <button type="button" class="toolbar-btn" data-action="list" title="åˆ—è¡¨">â€¢</button>
          <button type="button" class="toolbar-btn" data-action="codeblock" title="ä»£ç å—">{ }</button>
        </div>
        
        <div class="toolbar-group">
          <button type="button" class="toolbar-btn toggle-preview" data-action="preview" title="é¢„è§ˆ">ğŸ‘ï¸</button>
        </div>
      </div>

      <!-- æ–‡ç« å†…å®¹æ˜¾ç¤ºåŒº -->
      <article class="post-content" id="post-content">
        <h1 id="Hexo-åšå®¢æ­å»ºæ€»ç»“"><a href="#Hexo-åšå®¢æ­å»ºæ€»ç»“" class="headerlink" title="Hexo åšå®¢æ­å»ºæ€»ç»“"></a>Hexo åšå®¢æ­å»ºæ€»ç»“</h1><h2 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h2><ul>
<li>åœ¨ Mac ä¸Šå®‰è£… Node.js å’Œ npm</li>
<li>ä½¿ç”¨ <code>npm install -g hexo-cli</code> å…¨å±€å®‰è£… Hexo å‘½ä»¤è¡Œå·¥å…·</li>
<li>åˆå§‹åŒ–åšå®¢ç›®å½• <code>hexo init xia_blog</code>ï¼Œè¿›å…¥ç›®å½•å®‰è£…ä¾èµ– <code>npm install</code></li>
</ul>
<hr>
<h2 id="ä¸»é¢˜è‡ªå®šä¹‰"><a href="#ä¸»é¢˜è‡ªå®šä¹‰" class="headerlink" title="ä¸»é¢˜è‡ªå®šä¹‰"></a>ä¸»é¢˜è‡ªå®šä¹‰</h2><ul>
<li><p>ä¿®æ”¹ <code>_config.yml</code> ä¸­ <code>theme</code> å­—æ®µåˆ‡æ¢ä¸»é¢˜</p>
</li>
<li><p>ä¸»é¢˜ç»“æ„ï¼š</p>
<p>xia_theme&#x2F;<br> â”œâ”€â”€ _config.yml           # ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰<br> â”œâ”€â”€ layout&#x2F;               # é¡µé¢æ¨¡æ¿æ–‡ä»¶å¤¹<br> â”‚   â”œâ”€â”€ _partial&#x2F;         # å…¬å…±éƒ¨åˆ†ï¼ˆå¦‚å¤´éƒ¨ headerã€åº•éƒ¨ footerï¼‰<br> â”‚   â”‚   â”œâ”€â”€ header.ejs<br> â”‚   â”‚   â””â”€â”€ footer.ejs<br> â”‚   â”œâ”€â”€ index.ejs         # é¦–é¡µæ¨¡æ¿<br> â”‚   â”œâ”€â”€ post.ejs          # æ–‡ç« é¡µæ¨¡æ¿<br> â”‚   â”œâ”€â”€ archive.ejs       # å½’æ¡£é¡µæ¨¡æ¿<br> â”‚   â”œâ”€â”€ category.ejs      # åˆ†ç±»é¡µæ¨¡æ¿<br> â”‚   â””â”€â”€ tag.ejs           # æ ‡ç­¾é¡µæ¨¡æ¿<br> â”œâ”€â”€ source&#x2F;               # ä¸»é¢˜é™æ€èµ„æºï¼ˆCSSã€JSã€å›¾ç‰‡ç­‰ï¼‰<br>    â”œâ”€â”€ css&#x2F;<br>    â”‚   â””â”€â”€ style.css<br>    â”œâ”€â”€ js&#x2F;<br>    â””â”€â”€ images&#x2F;</p>
</li>
<li><p>ä¿®æ”¹æ¨¡æ¿æ–‡ä»¶ï¼ˆä¾‹å¦‚ <code>index.ejs</code>ï¼‰æ¥è‡ªå®šä¹‰é¡µé¢ç»“æ„å’Œå†…å®¹</p>
</li>
<li><p>æ ·å¼å†™åœ¨ä¸»é¢˜çš„ <code>source/css/</code> ç›®å½•ä¸‹ï¼Œé€šè¿‡é“¾æ¥å¼•å…¥</p>
</li>
</ul>
<hr>
<h2 id="é‡åˆ°çš„æƒé™é—®é¢˜ï¼ˆnpm-å®‰è£…æŠ¥é”™-EACCESï¼‰"><a href="#é‡åˆ°çš„æƒé™é—®é¢˜ï¼ˆnpm-å®‰è£…æŠ¥é”™-EACCESï¼‰" class="headerlink" title="é‡åˆ°çš„æƒé™é—®é¢˜ï¼ˆnpm å®‰è£…æŠ¥é”™ EACCESï¼‰"></a>é‡åˆ°çš„æƒé™é—®é¢˜ï¼ˆnpm å®‰è£…æŠ¥é”™ EACCESï¼‰</h2><ul>
<li>æŠ¥é”™ä¿¡æ¯ç±»ä¼¼ <code>npm ERR! Error: EACCES: permission denied, mkdir ...</code></li>
<li>è§£å†³æ–¹æ³•ï¼š<ul>
<li>ä¸ä½¿ç”¨ <code>sudo</code> å®‰è£…ï¼Œå…¨å±€åŒ…æ”¹ä¸ºç”¨æˆ·ç›®å½•å®‰è£…</li>
<li>æˆ–è€…ä½¿ç”¨ <code>sudo chown -R $(whoami) ~/.npm</code> ä¿®æ”¹ npm ç¼“å­˜æƒé™</li>
</ul>
</li>
</ul>
<hr>
<h2 id="ä¸»é¢˜éƒ¨ç½²é—®é¢˜"><a href="#ä¸»é¢˜éƒ¨ç½²é—®é¢˜" class="headerlink" title="ä¸»é¢˜éƒ¨ç½²é—®é¢˜"></a>ä¸»é¢˜éƒ¨ç½²é—®é¢˜</h2><ul>
<li>ä½¿ç”¨ <code>hexo clean &amp;&amp; hexo generate &amp;&amp; hexo deploy</code> éƒ¨ç½²åˆ° GitHub Pages</li>
<li>é‡åˆ°ç½‘ç»œè¿æ¥è¶…æ—¶ï¼ˆ<code>Failed to connect to github.com port 443</code>ï¼‰çš„é—®é¢˜</li>
<li>è§£å†³æ€è·¯ï¼š<ul>
<li>GitHubçš„sshé“¾æ¥å°±è¡Œäº†</li>
</ul>
</li>
</ul>
<hr>
<h2 id="æœ¬åœ°å†™æ–‡ç« ä¸ç¼–ç é—®é¢˜"><a href="#æœ¬åœ°å†™æ–‡ç« ä¸ç¼–ç é—®é¢˜" class="headerlink" title="æœ¬åœ°å†™æ–‡ç« ä¸ç¼–ç é—®é¢˜"></a>æœ¬åœ°å†™æ–‡ç« ä¸ç¼–ç é—®é¢˜</h2><ul>
<li>æ–°å»º Markdown æ–‡ä»¶æ”¾åœ¨ <code>source/_posts/</code> ç›®å½•ä¸‹ï¼ŒHexo è‡ªåŠ¨è¯†åˆ«</li>
<li>æ–‡ç« å¤´éƒ¨ Front-matter é…ç½®ï¼ˆtitle, date, tags, categoriesï¼‰</li>
<li>é‡åˆ°æ–‡ç« è¯¦æƒ…é¡µä¹±ç é—®é¢˜</li>
</ul>
<blockquote>
<p>åœ¨post.ejsæ·»åŠ å¤´éƒ¨ </p>
</blockquote>
<p>ã€ã€ã€</p>
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title><%= page.title %> - <%= config.title %></title>
  <link rel="stylesheet" href="/css/style.css">
</head>

<p>ã€ã€ã€</p>
<hr>
<h2 id="è‡ªå®šä¹‰åšå®¢åå°ï¼Œå®ç°åœ¨çº¿æ–‡ç« æäº¤ä¸è‡ªåŠ¨éƒ¨ç½²"><a href="#è‡ªå®šä¹‰åšå®¢åå°ï¼Œå®ç°åœ¨çº¿æ–‡ç« æäº¤ä¸è‡ªåŠ¨éƒ¨ç½²" class="headerlink" title="è‡ªå®šä¹‰åšå®¢åå°ï¼Œå®ç°åœ¨çº¿æ–‡ç« æäº¤ä¸è‡ªåŠ¨éƒ¨ç½²"></a>è‡ªå®šä¹‰åšå®¢åå°ï¼Œå®ç°åœ¨çº¿æ–‡ç« æäº¤ä¸è‡ªåŠ¨éƒ¨ç½²</h2><ul>
<li>ä½¿ç”¨ Node.js + Express å†™åå°æœåŠ¡å™¨ï¼Œç›‘å¬ 3000 ç«¯å£</li>
<li>å®ç° <code>/api/posts</code> POST æ¥å£ï¼Œæ¥æ”¶æ–‡ç« æ•°æ®ï¼Œå†™å…¥ Markdown æ–‡ä»¶</li>
<li>ä½¿ç”¨ <code>exec</code> æ‰§è¡Œ Hexo å‘½ä»¤å®ç°æ–‡ç« è‡ªåŠ¨ç”Ÿæˆå’Œéƒ¨ç½²</li>
<li>ä½¿ç”¨ç®€å• Token è®¤è¯ï¼Œä¿è¯æ¥å£å®‰å…¨</li>
<li>æ·»åŠ  <code>cors</code> ä¸­é—´ä»¶ï¼Œè§£å†³è·¨åŸŸè¯·æ±‚é—®é¢˜</li>
</ul>
<hr>
<h2 id="å‰ç«¯è°ƒç”¨åå°æ¥å£"><a href="#å‰ç«¯è°ƒç”¨åå°æ¥å£" class="headerlink" title="å‰ç«¯è°ƒç”¨åå°æ¥å£"></a>å‰ç«¯è°ƒç”¨åå°æ¥å£</h2><ul>
<li>åœ¨åšå®¢é¡µé¢å†™å‰ç«¯ JSï¼Œä½¿ç”¨ <code>fetch</code> å‘åç«¯æäº¤æ–‡ç« æ•°æ®</li>
<li>è¯·æ±‚å¤´åŒ…å« <code>Authorization: Bearer your-secret-token</code></li>
<li>å¤„ç†è¯·æ±‚ç»“æœï¼Œæç¤ºæ–‡ç« æäº¤æˆåŠŸæˆ–å¤±è´¥</li>
</ul>
<hr>
<h2 id="å…¶ä»–æ³¨æ„ç‚¹"><a href="#å…¶ä»–æ³¨æ„ç‚¹" class="headerlink" title="å…¶ä»–æ³¨æ„ç‚¹"></a>å…¶ä»–æ³¨æ„ç‚¹</h2><ul>
<li>ä¸»é¢˜æ ·å¼è‡ªå®šä¹‰æ—¶ï¼Œç¡®ä¿ CSS é€‰æ‹©å™¨æ­£ç¡®ï¼Œæ ·å¼è·¯å¾„å¼•ç”¨æ— è¯¯</li>
<li>ä¿®æ”¹æ¨¡æ¿æ–‡ä»¶åï¼Œæ‰§è¡Œ <code>hexo clean &amp;&amp; hexo generate</code> ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œå†éƒ¨ç½²</li>
<li>ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·æŸ¥çœ‹è¯·æ±‚å’Œå“åº”ï¼Œæ’æŸ¥é—®é¢˜</li>
</ul>
<hr>
<h1 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h1><p>æ•´ä½“æµç¨‹ï¼š</p>
<ul>
<li>ç¯å¢ƒæ­å»º â†’ ä¸»é¢˜é€‰æ‹© â†’ æœ¬åœ°å†™ä½œ â†’ éƒ¨ç½²åˆ° GitHub Pages</li>
<li>åå°æœåŠ¡æ­å»º â†’ åœ¨çº¿ç¼–è¾‘æäº¤æ–‡ç«  â†’ è‡ªåŠ¨éƒ¨ç½²æ›´æ–°åšå®¢</li>
</ul>
<p>é‡åˆ°æƒé™ã€è·¨åŸŸã€ç¼–ç å’Œç½‘ç»œé—®é¢˜ï¼Œå‡é€šè¿‡è°ƒæ•´æƒé™ã€æ·»åŠ  corsã€æ£€æŸ¥ç¼–ç ã€ç¡®è®¤ç½‘ç»œè®¾ç½®è§£å†³ã€‚</p>

      </article>

      <!-- ç¼–è¾‘å™¨ -->
      <div class="post-editor" id="post-editor" style="display: none;">
        <div class="editor-container">
          <textarea id="markdown-editor" class="markdown-textarea" placeholder="å¼€å§‹ç¼–è¾‘ä½ çš„æ–‡ç« ...">---
title: Hexo åšå®¢æ­å»ºæ€»ç»“
date: 2025-06-25T13:30:00.000Z
tags: [Hexo, åšå®¢æ­å»º, GitHub Pages, Node.js, æ•™ç¨‹, éƒ¨ç½², å‰ç«¯å¼€å‘]
categories: [æŠ€æœ¯æ•™ç¨‹, åšå®¢æ­å»º]
---

# Hexo åšå®¢æ­å»ºæ€»ç»“

## ç¯å¢ƒå‡†å¤‡

- åœ¨ Mac ä¸Šå®‰è£… Node.js å’Œ npm
- ä½¿ç”¨ `npm install -g hexo-cli` å…¨å±€å®‰è£… Hexo å‘½ä»¤è¡Œå·¥å…·
- åˆå§‹åŒ–åšå®¢ç›®å½• `hexo init xia_blog`ï¼Œè¿›å…¥ç›®å½•å®‰è£…ä¾èµ– `npm install`

---

## ä¸»é¢˜è‡ªå®šä¹‰

- ä¿®æ”¹ `_config.yml` ä¸­ `theme` å­—æ®µåˆ‡æ¢ä¸»é¢˜

- ä¸»é¢˜ç»“æ„ï¼š

  xia_theme/
   â”œâ”€â”€ _config.yml           # ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
   â”œâ”€â”€ layout/               # é¡µé¢æ¨¡æ¿æ–‡ä»¶å¤¹
   â”‚   â”œâ”€â”€ _partial/         # å…¬å…±éƒ¨åˆ†ï¼ˆå¦‚å¤´éƒ¨ headerã€åº•éƒ¨ footerï¼‰
   â”‚   â”‚   â”œâ”€â”€ header.ejs
   â”‚   â”‚   â””â”€â”€ footer.ejs
   â”‚   â”œâ”€â”€ index.ejs         # é¦–é¡µæ¨¡æ¿
   â”‚   â”œâ”€â”€ post.ejs          # æ–‡ç« é¡µæ¨¡æ¿
   â”‚   â”œâ”€â”€ archive.ejs       # å½’æ¡£é¡µæ¨¡æ¿
   â”‚   â”œâ”€â”€ category.ejs      # åˆ†ç±»é¡µæ¨¡æ¿
   â”‚   â””â”€â”€ tag.ejs           # æ ‡ç­¾é¡µæ¨¡æ¿
   â”œâ”€â”€ source/               # ä¸»é¢˜é™æ€èµ„æºï¼ˆCSSã€JSã€å›¾ç‰‡ç­‰ï¼‰
          â”œâ”€â”€ css/
          â”‚   â””â”€â”€ style.css
          â”œâ”€â”€ js/
          â””â”€â”€ images/

- ä¿®æ”¹æ¨¡æ¿æ–‡ä»¶ï¼ˆä¾‹å¦‚ `index.ejs`ï¼‰æ¥è‡ªå®šä¹‰é¡µé¢ç»“æ„å’Œå†…å®¹

- æ ·å¼å†™åœ¨ä¸»é¢˜çš„ `source/css/` ç›®å½•ä¸‹ï¼Œé€šè¿‡é“¾æ¥å¼•å…¥

---

## é‡åˆ°çš„æƒé™é—®é¢˜ï¼ˆnpm å®‰è£…æŠ¥é”™ EACCESï¼‰

- æŠ¥é”™ä¿¡æ¯ç±»ä¼¼ `npm ERR! Error: EACCES: permission denied, mkdir ...`
- è§£å†³æ–¹æ³•ï¼š
  - ä¸ä½¿ç”¨ `sudo` å®‰è£…ï¼Œå…¨å±€åŒ…æ”¹ä¸ºç”¨æˆ·ç›®å½•å®‰è£…
  - æˆ–è€…ä½¿ç”¨ `sudo chown -R $(whoami) ~/.npm` ä¿®æ”¹ npm ç¼“å­˜æƒé™

---

## ä¸»é¢˜éƒ¨ç½²é—®é¢˜

- ä½¿ç”¨ `hexo clean &amp;&amp; hexo generate &amp;&amp; hexo deploy` éƒ¨ç½²åˆ° GitHub Pages
- é‡åˆ°ç½‘ç»œè¿æ¥è¶…æ—¶ï¼ˆ`Failed to connect to github.com port 443`ï¼‰çš„é—®é¢˜
- è§£å†³æ€è·¯ï¼š
  - GitHubçš„sshé“¾æ¥å°±è¡Œäº†

---

## æœ¬åœ°å†™æ–‡ç« ä¸ç¼–ç é—®é¢˜
- æ–°å»º Markdown æ–‡ä»¶æ”¾åœ¨ `source/_posts/` ç›®å½•ä¸‹ï¼ŒHexo è‡ªåŠ¨è¯†åˆ«
- æ–‡ç« å¤´éƒ¨ Front-matter é…ç½®ï¼ˆtitle, date, tags, categoriesï¼‰
- é‡åˆ°æ–‡ç« è¯¦æƒ…é¡µä¹±ç é—®é¢˜

&gt; åœ¨post.ejsæ·»åŠ å¤´éƒ¨ 

ã€ã€ã€

&lt;!DOCTYPE html&gt;
&lt;html lang=&#34;zh-CN&#34;&gt;
&lt;head&gt;
  &lt;meta charset=&#34;UTF-8&#34;&gt;
  &lt;title&gt;&lt;%= page.title %&gt; - &lt;%= config.title %&gt;&lt;/title&gt;
  &lt;link rel=&#34;stylesheet&#34; href=&#34;/css/style.css&#34;&gt;
&lt;/head&gt;

ã€ã€ã€

---

## è‡ªå®šä¹‰åšå®¢åå°ï¼Œå®ç°åœ¨çº¿æ–‡ç« æäº¤ä¸è‡ªåŠ¨éƒ¨ç½²
- ä½¿ç”¨ Node.js + Express å†™åå°æœåŠ¡å™¨ï¼Œç›‘å¬ 3000 ç«¯å£
- å®ç° `/api/posts` POST æ¥å£ï¼Œæ¥æ”¶æ–‡ç« æ•°æ®ï¼Œå†™å…¥ Markdown æ–‡ä»¶
- ä½¿ç”¨ `exec` æ‰§è¡Œ Hexo å‘½ä»¤å®ç°æ–‡ç« è‡ªåŠ¨ç”Ÿæˆå’Œéƒ¨ç½²
- ä½¿ç”¨ç®€å• Token è®¤è¯ï¼Œä¿è¯æ¥å£å®‰å…¨
- æ·»åŠ  `cors` ä¸­é—´ä»¶ï¼Œè§£å†³è·¨åŸŸè¯·æ±‚é—®é¢˜

---

##  å‰ç«¯è°ƒç”¨åå°æ¥å£
- åœ¨åšå®¢é¡µé¢å†™å‰ç«¯ JSï¼Œä½¿ç”¨ `fetch` å‘åç«¯æäº¤æ–‡ç« æ•°æ®
- è¯·æ±‚å¤´åŒ…å« `Authorization: Bearer your-secret-token`
- å¤„ç†è¯·æ±‚ç»“æœï¼Œæç¤ºæ–‡ç« æäº¤æˆåŠŸæˆ–å¤±è´¥

---

## å…¶ä»–æ³¨æ„ç‚¹
- ä¸»é¢˜æ ·å¼è‡ªå®šä¹‰æ—¶ï¼Œç¡®ä¿ CSS é€‰æ‹©å™¨æ­£ç¡®ï¼Œæ ·å¼è·¯å¾„å¼•ç”¨æ— è¯¯
- ä¿®æ”¹æ¨¡æ¿æ–‡ä»¶åï¼Œæ‰§è¡Œ `hexo clean &amp;&amp; hexo generate` ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œå†éƒ¨ç½²
- ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·æŸ¥çœ‹è¯·æ±‚å’Œå“åº”ï¼Œæ’æŸ¥é—®é¢˜

---

# ç»“è®º
æ•´ä½“æµç¨‹ï¼š
- ç¯å¢ƒæ­å»º â†’ ä¸»é¢˜é€‰æ‹© â†’ æœ¬åœ°å†™ä½œ â†’ éƒ¨ç½²åˆ° GitHub Pages
- åå°æœåŠ¡æ­å»º â†’ åœ¨çº¿ç¼–è¾‘æäº¤æ–‡ç«  â†’ è‡ªåŠ¨éƒ¨ç½²æ›´æ–°åšå®¢

é‡åˆ°æƒé™ã€è·¨åŸŸã€ç¼–ç å’Œç½‘ç»œé—®é¢˜ï¼Œå‡é€šè¿‡è°ƒæ•´æƒé™ã€æ·»åŠ  corsã€æ£€æŸ¥ç¼–ç ã€ç¡®è®¤ç½‘ç»œè®¾ç½®è§£å†³ã€‚
</textarea>
        </div>
      </div>

      <!-- é¢„è§ˆåŒº -->
      <div class="post-preview" id="post-preview" style="display: none;">
        <div class="preview-header">
          <h3>é¢„è§ˆ</h3>
          <button type="button" class="btn-refresh-preview" id="refresh-preview">ğŸ”„ åˆ·æ–°</button>
        </div>
        <div class="preview-content" id="preview-content">
          <!-- é¢„è§ˆå†…å®¹å°†é€šè¿‡JSæ¸²æŸ“ -->
        </div>
      </div>
    </section>
  </main>

  <!-- å›¾ç‰‡ä¸Šä¼ æ¨¡æ€æ¡† -->
  <div class="modal" id="image-modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h4>æ’å…¥å›¾ç‰‡</h4>
        <button type="button" class="btn-close" onclick="closeImageModal()">Ã—</button>
      </div>
      <div class="modal-body">
        <div class="upload-tabs">
          <button type="button" class="tab-btn active" data-tab="upload">ä¸Šä¼ å›¾ç‰‡</button>
          <button type="button" class="tab-btn" data-tab="url">å›¾ç‰‡é“¾æ¥</button>
        </div>
        
        <div class="tab-content" id="upload-tab">
          <div class="upload-zone" id="upload-zone">
            <div class="upload-placeholder">
              <div class="upload-icon">ğŸ“</div>
              <p>æ‹–æ‹½å›¾ç‰‡åˆ°è¿™é‡Œæˆ–ç‚¹å‡»é€‰æ‹©</p>
              <small>æ”¯æŒ JPG, PNG, GIF, WebP æ ¼å¼ï¼Œæœ€å¤§ 5MB</small>
            </div>
          </div>
          <div class="uploaded-images" id="uploaded-images"></div>
        </div>
        
        <div class="tab-content" id="url-tab" style="display: none;">
          <div class="form-group">
            <label for="image-url">å›¾ç‰‡é“¾æ¥</label>
            <input type="url" id="image-url" placeholder="https://example.com/image.jpg">
          </div>
          <div class="form-group">
            <label for="image-alt">æ›¿ä»£æ–‡æœ¬</label>
            <input type="text" id="image-alt" placeholder="å›¾ç‰‡æè¿°ï¼ˆå¯é€‰ï¼‰">
          </div>
          <button type="button" class="btn btn-primary" onclick="insertImageUrl()">æ’å…¥</button>
        </div>
      </div>
    </div>
  </div>

  <!-- é“¾æ¥æ’å…¥æ¨¡æ€æ¡† -->
  <div class="modal" id="link-modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h4>æ’å…¥é“¾æ¥</h4>
        <button type="button" class="btn-close" onclick="closeLinkModal()">Ã—</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="link-text">é“¾æ¥æ–‡æœ¬</label>
          <input type="text" id="link-text" placeholder="æ˜¾ç¤ºçš„æ–‡æœ¬">
        </div>
        <div class="form-group">
          <label for="link-url">é“¾æ¥åœ°å€</label>
          <input type="url" id="link-url" placeholder="https://example.com">
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" onclick="closeLinkModal()">å–æ¶ˆ</button>
        <button type="button" class="btn btn-primary" onclick="insertLink()">æ’å…¥</button>
      </div>
    </div>
  </div>

  <hr>
<footer>
  <p>Â© 2025 xiahui010421 | Powered by XiaHui</p>
</footer>

  <script src="/js/post.js"></script>
</body>
</html>